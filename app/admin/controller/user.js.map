{
    "version": 3,
    "sources": [
        "../../../src/admin/controller/user.js"
    ],
    "names": [
        "indexAction",
        "display",
        "avatarAction",
        "uploadPath",
        "think",
        "RESOURCE_PATH",
        "path",
        "isFile",
        "type",
        "pic",
        "readFileSync",
        "end"
    ],
    "mappings": "AAAA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;AACA;;;;;;;;;;;;;;AAGE;;;;mBAIAA,W,0BAAa;AACX;AACA,WAAO,KAAKC,OAAL,EAAP;AACD,G;;AAED;;;;;mBAGMC,Y;;;;;;;AACAC,wB,GAAaC,MAAMC,aAAN,GAAsB,iBAAtB,GAAwC,C,EAAE;;AACvDC,kB,GAAOF,MAAMG,MAAN,CAAaJ,aAAa,GAAb,GAAmB,aAAhC,C;;AACX,mBAAKK,IAAL,CAAU,WAAV;AACIC,iB;;AACJ,kBAAIH,IAAJ,EAAU;AACR;AACAG,sBAAM,aAAGC,YAAH,CAAgBP,aAAa,GAAb,GAAmB,aAAnC,CAAN;AACD,eAHD,MAGO;AACL;AACAM,sBAAM,aAAGC,YAAH,CAAgBN,MAAMC,aAAN,GAAsB,2BAAtC,CAAN;AACD;AACD,mBAAKM,GAAL,CAASF,GAAT",
    "file": "../../../src/admin/controller/user.js",
    "sourcesContent": [
        "'use strict';\n\nimport Base from './base.js';\nimport fs from 'fs';\n\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  indexAction(){\n    //auto render template file index_index.html\n    return this.display();\n  }\n\n  /**\n   * 获取用户头像\n   */\n  async avatarAction() {\n    var uploadPath = think.RESOURCE_PATH + '/upload/avatar/'+2;// this.user.uid;\n    let path = think.isFile(uploadPath + \"/\" + \"/avatar.png\");\n    this.type(\"image/png\");\n    let pic;\n    if (path) {\n      // this.download(uploadPath + \"/\" + \"/avatar.png\");\n      pic = fs.readFileSync(uploadPath + \"/\" + \"/avatar.png\")\n    } else {\n      //this.download(think.RESOURCE_PATH + '/upload/avatar/avatar.jpg')\n      pic = fs.readFileSync(think.RESOURCE_PATH + '/upload/avatar/avatar.jpg')\n    }\n    this.end(pic)\n  }\n}"
    ]
}